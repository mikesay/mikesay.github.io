<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Mike"><meta name="keywords" content="DevOps, Infrastructure As Code(IAC), CI/CD, Operation, Monitor, Python"><meta name="description" content="åœ¨å­¦ä¹ å’Œä½¿ç”¨Kubernetesçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„Kubernetesé›†ç¾¤ç”¨ä½œæµ‹è¯•ä¹‹ç”¨ã€‚ä¹‹å‰ä¸€ç›´ä½¿ç”¨dockerå…¬å¸çš„docker for macåˆ›å»ºçš„Kubernetesé›†ç¾¤ï¼Œä½†æ˜¯ç»å¸¸å‡ºç°å¯åŠ¨ä¸èµ·æ¥çš„é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰è¯¦ç»†çš„æ—¥å¿—æ¥å®šä½é—®é¢˜ï¼Œå¦å¤–docker for macåˆ›å»ºçš„é›†ç¾¤ä¸æ”¯æŒæ”¹å˜ç³»ç»Ÿç»„ä»¶çš„é…ç½®ï¼Œæ¯”å¦‚ä¿®æ”¹API Serveræˆ–Kubeletçš„å‚æ•°ï¼Œå¼€å¯æŸäº›Alpahaç‰ˆæœ¬"><meta property="og:type" content="article"><meta property="og:title" content="Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤"><meta property="og:url" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/index.html"><meta property="og:site_name" content="äº‘æ–‹éšç¬”"><meta property="og:description" content="åœ¨å­¦ä¹ å’Œä½¿ç”¨Kubernetesçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„Kubernetesé›†ç¾¤ç”¨ä½œæµ‹è¯•ä¹‹ç”¨ã€‚ä¹‹å‰ä¸€ç›´ä½¿ç”¨dockerå…¬å¸çš„docker for macåˆ›å»ºçš„Kubernetesé›†ç¾¤ï¼Œä½†æ˜¯ç»å¸¸å‡ºç°å¯åŠ¨ä¸èµ·æ¥çš„é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰è¯¦ç»†çš„æ—¥å¿—æ¥å®šä½é—®é¢˜ï¼Œå¦å¤–docker for macåˆ›å»ºçš„é›†ç¾¤ä¸æ”¯æŒæ”¹å˜ç³»ç»Ÿç»„ä»¶çš„é…ç½®ï¼Œæ¯”å¦‚ä¿®æ”¹API Serveræˆ–Kubeletçš„å‚æ•°ï¼Œå¼€å¯æŸäº›Alpahaç‰ˆæœ¬"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/2.jpg"><meta property="og:image" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/1.jpg"><meta property="og:image" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/3.jpg"><meta property="og:image" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/4.jpg"><meta property="og:image" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/5.jpg"><meta property="article:published_time" content="2021-10-06T10:40:49.000Z"><meta property="article:modified_time" content="2024-05-24T15:41:59.449Z"><meta property="article:author" content="Mike"><meta property="article:tag" content="Kubernetes"><meta property="article:tag" content="K8s"><meta property="article:tag" content="Minikube"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/2.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><title>Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤ - äº‘æ–‹éšç¬”</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"www.mikesay.com",root:"/",version:"1.9.4",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:200}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><header><div class="header-inner" style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>äº‘æ–‹éšç¬”</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> <span>æ–‡æ¡£</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/ebooks/k8cd/"><i class="iconfont icon-book"></i> <span>Kubernetesåº”ç”¨æŒç»­äº¤ä»˜çš„æ¢ç´¢ä¸å®è·µ</span> </a><a class="dropdown-item" target="_blank" rel="noopener" href="https://accs.mikesay.com/"><i class="iconfont icon-book"></i> <span>ã€è¯‘ã€‘æ¶æ„äº‘è®¡ç®—æ–¹æ¡ˆ</span></a></div></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>å…³äº</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>å‹é“¾</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/post.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,0)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤</span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Mike </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-10-06 18:40" pubdate>2021å¹´10æœˆ6æ—¥ æ™šä¸Š</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 8.8k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 73 åˆ†é’Ÿ </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> æ¬¡</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Kubernetes" id="heading-30136395f01879792198317c11831ea4" role="tab" data-toggle="collapse" href="#collapse-30136395f01879792198317c11831ea4" aria-expanded="true">Kubernetes <span class="list-group-count">(3)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-30136395f01879792198317c11831ea4" role="tabpanel" aria-labelledby="heading-30136395f01879792198317c11831ea4"><div class="category-post-list"><a href="/2021/10/06/create-kubernetes-minikube/" title="Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤" class="list-group-item list-group-item-action active"><span class="category-post">Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤</span> </a><a href="/2021/10/10/create-kubernetes-kind/" title="Kindåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤" class="list-group-item list-group-item-action"><span class="category-post">Kindåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤</span> </a><a href="/2021/09/06/aliyun-coredns-issue-tracking/" title="è®°ä¸€æ¬¡é˜¿é‡Œäº‘Kubernetesé›†ç¾¤å†…éƒ¨æœåŠ¡åŸŸåè§£æä¸ç¨³å®šçš„æ’æŸ¥" class="list-group-item list-group-item-action"><span class="category-post">è®°ä¸€æ¬¡é˜¿é‡Œäº‘Kubernetesé›†ç¾¤å†…éƒ¨æœåŠ¡åŸŸåè§£æä¸ç¨³å®šçš„æ’æŸ¥</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤</h1><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2024å¹´5æœˆ24æ—¥ æ™šä¸Š</p><div class="markdown-body"><p>åœ¨å­¦ä¹ å’Œä½¿ç”¨Kubernetesçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„Kubernetesé›†ç¾¤ç”¨ä½œæµ‹è¯•ä¹‹ç”¨ã€‚ä¹‹å‰ä¸€ç›´ä½¿ç”¨dockerå…¬å¸çš„docker for macåˆ›å»ºçš„Kubernetesé›†ç¾¤ï¼Œä½†æ˜¯ç»å¸¸å‡ºç°å¯åŠ¨ä¸èµ·æ¥çš„é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰è¯¦ç»†çš„æ—¥å¿—æ¥å®šä½é—®é¢˜ï¼Œå¦å¤–docker for macåˆ›å»ºçš„é›†ç¾¤ä¸æ”¯æŒæ”¹å˜ç³»ç»Ÿç»„ä»¶çš„é…ç½®ï¼Œæ¯”å¦‚ä¿®æ”¹API Serveræˆ–Kubeletçš„å‚æ•°ï¼Œå¼€å¯æŸäº›Alpahaç‰ˆæœ¬çš„ç‰¹æ€§ç­‰ã€‚è™½ç„¶Minikubeå·²ç»å­˜åœ¨å¾ˆä¹…ï¼Œè€Œä¸”æ—©äºdocker for macï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› æ²¡èƒ½å°è¯•ï¼Œåç»åŒäº‹æ¨èï¼Œå°è¯•äº†ä¸€ä¸‹ï¼Œç¡®å®è›®å¼ºå¤§ã€‚æœ¬æ–‡å°†ç®€å•ä»‹ç»ä¸‹Minikubeï¼Œä»¥åŠåœ¨Macä¸»æœºä¸Šç”¨Minikubeåˆ›å»ºå’Œé…ç½®ä¸€ä¸ªæœ¬åœ°é›†ç¾¤ã€‚</p><span id="more"></span><h1 id="Minikubeä»‹ç»"><a href="#Minikubeä»‹ç»" class="headerlink" title="Minikubeä»‹ç»"></a>Minikubeä»‹ç»</h1><p>Minikubeæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ç”¨æ¥åœ¨macOSï¼ŒLinuxå’ŒWindowså¹³å°ä¸­å¿«é€Ÿåˆ›å»ºä¸€ä¸ªç”¨äºå­¦ä¹ å’Œå¼€å‘ä¸ºç›®çš„çš„Kubernetesé›†ç¾¤ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†ä¸°å¯Œçš„é›†ç¾¤ç®¡ç†åŠŸèƒ½ã€‚å› ä¸ºMinikubçš„ç›®æ ‡ä¸æ˜¯ç”¨æ¥åˆ›å»ºå’Œç®¡ç†ç”Ÿäº§ç”¨çš„Kubernetesé›†ç¾¤ï¼Œæ‰€ä»¥ä¸ä¼šæ”¯æŒæ‰€æœ‰å¯èƒ½çš„Kuberneteséƒ¨ç½²é…ç½®ï¼Œä¾‹å¦‚ä¸åŒç±»å‹çš„å­˜å‚¨ï¼Œç½‘ç»œç­‰ã€‚ä»¥ä¸‹æ˜¯Minikubeçš„ä¸€äº›æŒ‡å¯¼åŸåˆ™ï¼š</p><ul><li>ç”¨æˆ·å‹å¥½</li><li>æ”¯æŒæ‰€æœ‰Kuberenetesç‰¹æ€§</li><li>è·¨å¹³å°</li><li>å¯é </li><li>æœ€å°‘çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ä¾èµ–</li><li>æœ€å°‘çš„èµ„æºæ¶ˆè€—</li></ul><h2 id="é›†ç¾¤åˆ›å»ºèƒ½åŠ›çš„æŠ½è±¡"><a href="#é›†ç¾¤åˆ›å»ºèƒ½åŠ›çš„æŠ½è±¡" class="headerlink" title="é›†ç¾¤åˆ›å»ºèƒ½åŠ›çš„æŠ½è±¡"></a>é›†ç¾¤åˆ›å»ºèƒ½åŠ›çš„æŠ½è±¡</h2><p>Minikubeç¼ºçœä½¿ç”¨kubeadmåˆ›å»ºå’Œé…ç½®Kubernetesé›†ç¾¤ï¼Œä½†æ˜¯é€šè¿‡å‚æ•°(-b, â€“bootstrapper)å°†åº•å±‚åˆ›å»ºé›†ç¾¤çš„èƒ½åŠ›æŠ½åƒå‡ºæ¥ï¼Œè¿™å°±ä¸ºé›†æˆå…¶å®ƒçš„Kubernetesé›†ç¾¤åˆ›å»ºå·¥å…·æä¾›äº†å¯èƒ½ã€‚</p><h2 id="ä¸°å¯Œçš„æ’ä»¶"><a href="#ä¸°å¯Œçš„æ’ä»¶" class="headerlink" title="ä¸°å¯Œçš„æ’ä»¶"></a>ä¸°å¯Œçš„æ’ä»¶</h2><p>Minikubeæä¾›äº†ä¸°å¯Œçš„å¼€ç®±å³ç”¨çš„æ’ä»¶ç”¨æ¥å¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿåœ°é…ç½®Kubernetesé›†ç¾¤ï¼Œæ¯”å¦‚ingressæ’ä»¶ç”¨æ¥å®‰è£…ingress controllerï¼Œdashboardæ’ä»¶ç”¨æ¥å®‰è£…Kubernetesçš„ç®¡ç†é—¨æˆ·ã€‚é€šè¿‡å‘½ä»¤<code>minikube addons list</code>å¯ä»¥åˆ—å‡ºæ”¯æŒçš„æ‰€æœ‰æ’ä»¶ï¼š<br><img src="/2021/10/06/create-kubernetes-minikube/2.jpg" srcset="/img/loading.gif" lazyload></p><h2 id="ä¸°å¯Œçš„é›†ç¾¤ç»„ä»¶é…ç½®èƒ½åŠ›"><a href="#ä¸°å¯Œçš„é›†ç¾¤ç»„ä»¶é…ç½®èƒ½åŠ›" class="headerlink" title="ä¸°å¯Œçš„é›†ç¾¤ç»„ä»¶é…ç½®èƒ½åŠ›"></a>ä¸°å¯Œçš„é›†ç¾¤ç»„ä»¶é…ç½®èƒ½åŠ›</h2><p>æ¯”èµ·docker for macåˆ›å»ºçš„Kubernetesé›†ç¾¤ï¼ŒMinikubeæä¾›äº†ä¸°å¯Œçš„å‚æ•°ç±»å‹ç”¨æ¥é…ç½®é›†ç¾¤ç»„ä»¶ã€‚å¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://minikube.sigs.k8s.io/docs/commands/start/">https://minikube.sigs.k8s.io/docs/commands/start/</a> æŸ¥çœ‹<code>minikube start</code>å‘½ä»¤ä¸­ç”¨äºé…ç½®é›†ç¾¤çš„å‚æ•°ï¼Œå°¤å…¶æ˜¯<code>--extra-config</code>å‚æ•°å¯ä»¥ç”¨æ¥å¯¹ä¸åŒç»„ä»¶è¿›è¡Œè®¾ç½®ã€‚å‚è€ƒ<a target="_blank" rel="noopener" href="https://minikube.sigs.k8s.io/docs/handbook/config/">https://minikube.sigs.k8s.io/docs/handbook/config/</a> æŸ¥çœ‹è¯¦ç»†çš„é›†ç¾¤é…ç½®åŠŸèƒ½ã€‚</p><h2 id="ä¸°å¯Œçš„é›†ç¾¤ç®¡ç†å‘½ä»¤"><a href="#ä¸°å¯Œçš„é›†ç¾¤ç®¡ç†å‘½ä»¤" class="headerlink" title="ä¸°å¯Œçš„é›†ç¾¤ç®¡ç†å‘½ä»¤"></a>ä¸°å¯Œçš„é›†ç¾¤ç®¡ç†å‘½ä»¤</h2><p>Minikubeçš„startï¼Œstopå’Œpauseï¼Œunpauseå‘½ä»¤æä¾›äº†ä¸åŒçº§åˆ«çš„é›†ç¾¤å¯åœåŠŸèƒ½ï¼Œä»è€Œé‡Šæ”¾å‡ºCPUï¼Œå†…å­˜èµ„æºã€‚Minikube stopå‘½ä»¤ä¼šåœæ‰è¿è¡ŒKubernetesé›†ç¾¤çš„è™šæ‹Ÿæœºï¼ŒåŒæ—¶ä¹Ÿä¼šæ¸…ç†æ‰æ‰€æœ‰çš„å®¹å™¨é•œåƒå’ŒæŒä¹…å·ï¼Œä½†ä»æ—§ä¼šä¿ç•™å½“å‰é›†ç¾¤çš„æ‰€æœ‰çš„é…ç½®ï¼Œè€ŒMinikube startå‘½ä»¤åˆ™ä¼šé‡å¯è™šæ‹Ÿæœºã€‚Minikube pauseå‘½ä»¤ä¸ä¼šåœæ‰è¿è¡ŒKubernetesé›†ç¾¤çš„è™šæ‹Ÿæœºä»¥åŠæ¸…ç†æ‰æ‰€æœ‰çš„å®¹å™¨é•œåƒå’ŒæŒä¹…å·ï¼Œåªä¼šåœæ‰Kubernetesé›†ç¾¤ï¼Œä½†ä¹Ÿä¸ä¼šåœæ‰dockerçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œè€ŒMinikube unpauseå‘½ä»¤ä¼šé‡æ–°å¯åŠ¨Kubernetesé›†ç¾¤ã€‚</p><h1 id="Minikubeçš„æ¶æ„"><a href="#Minikubeçš„æ¶æ„" class="headerlink" title="Minikubeçš„æ¶æ„"></a>Minikubeçš„æ¶æ„</h1><p><img src="/2021/10/06/create-kubernetes-minikube/1.jpg" srcset="/img/loading.gif" lazyload></p><ul><li><p>Minikubeé©±åŠ¨å±‚ä½¿ç”¨docker-machineåˆ›å»ºä¸åŒç±»å‹çš„è¿è¡ŒKubernetesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ã€‚</p></li><li><p>Masterå’ŒWorkerå°±æ˜¯Minikubeé€šè¿‡é©±åŠ¨å±‚åˆ›å»ºå‡ºæ¥çš„Kubernetesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ã€‚å·¥ä½œèŠ‚ç‚¹å¯ä»¥æ˜¯è¿è¡Œåœ¨ä¸»æœºä¸Šçš„è™šæ‹Ÿæœºã€ç‹¬ç«‹çš„å®¹å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å·²ç»å­˜åœ¨çš„ä¸”å·²ç»é…ç½®å¥½çš„è™šæ‹Ÿæœºï¼ˆæœ¬åœ°æˆ–è¿œç¨‹çš„ï¼‰ï¼Œæˆ–è€…å°±æ˜¯ä¸»æœºæœ¬èº«ã€‚</p></li></ul><h2 id="Hypervisoré©±åŠ¨"><a href="#Hypervisoré©±åŠ¨" class="headerlink" title="Hypervisoré©±åŠ¨"></a>Hypervisoré©±åŠ¨</h2><p>Minikubeä¼šæ ¹æ®æŒ‡å®šçš„Hypervisoré©±åŠ¨åœ¨ä¸»æœºä¸Šå¯åŠ¨ä¸€åˆ°å¤šä¸ªè™šæ‹Ÿæœºï¼Œå¹¶å°†å®ƒä»¬é…ç½®æˆå³å°†åˆ›å»ºçš„Kubernetesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ã€‚ä¸åŒç±»å‹çš„ä¸»æœº(Mac, Linux, Windows)æ”¯æŒçš„è™šæ‹ŸåŒ–æŠ€æœ¯æœ‰å·®å¼‚ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸åŒçš„Hypervisoré©±åŠ¨ã€‚</p><h3 id="Linuxä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨"><a href="#Linuxä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨" class="headerlink" title="Linuxä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨"></a>Linuxä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨</h3><ul><li>KVM2</li><li>VirtualBox</li></ul><h3 id="Macä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨"><a href="#Macä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨" class="headerlink" title="Macä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨"></a>Macä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨</h3><ul><li>Hyperkit</li><li>VirtualBox</li><li>Parallels</li><li>VMware</li></ul><h3 id="Windowsä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨"><a href="#Windowsä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨" class="headerlink" title="Windowsä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨"></a>Windowsä¸»æœºæ”¯æŒçš„Hypervisoré©±åŠ¨</h3><ul><li>Hyper-V</li><li>VirtualBox</li><li>VMware</li></ul><h2 id="Dockeré©±åŠ¨"><a href="#Dockeré©±åŠ¨" class="headerlink" title="Dockeré©±åŠ¨"></a>Dockeré©±åŠ¨</h2><p>å½“é€‰æ‹©Dockeré©±åŠ¨é€‰é¡¹æ—¶ï¼ŒMinikubeä¼šåˆ©ç”¨docker in dockeræŠ€æœ¯å¯åŠ¨ä¸€åˆ°å¤šä¸ªå®¹å™¨ï¼Œå¹¶å°†å®ƒä»¬é…ç½®æˆå³å°†åˆ›å»ºçš„Kubernetesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ï¼Œå³æ‰€è°“çš„Kubernetes in dockerã€‚</p><h3 id="Linuxä¸»æœºçš„Dockeré©±åŠ¨"><a href="#Linuxä¸»æœºçš„Dockeré©±åŠ¨" class="headerlink" title="Linuxä¸»æœºçš„Dockeré©±åŠ¨"></a>Linuxä¸»æœºçš„Dockeré©±åŠ¨</h3><ul><li>Docker - container-based</li><li>Podman - containerï¼ˆè¯•éªŒé˜¶æ®µï¼‰</li></ul><p>Dockeræ˜¯åŸç”Ÿæ”¯æŒLinuxç³»ç»Ÿçš„ï¼Œæ‰€ä»¥åœ¨Linuxä¸»æœºä¸­Dockerçš„å®ˆæŠ¤è¿›ç¨‹æ˜¯ç›´æ¥è¿è¡Œåœ¨ä¸»æœºä¸­çš„ï¼Œç›¸å¯¹æ¥è¯´æ€§èƒ½ä¼šé«˜ç‚¹ã€‚Podmanæ˜¯å¦ä¸€ä¸ªå–ä»£Dockerçš„å®¹å™¨å·¥å…·ï¼Œå®Œå…¨å…¼å®¹OCIæ ‡å‡†ã€‚Podmanä¹Ÿæ˜¯åŸç”Ÿæ”¯æŒLinuxç³»ç»Ÿï¼Œè€Œä¸”åœ¨Linuxç³»ç»Ÿä¸­å®ƒæ˜¯æ²¡æœ‰å®ˆæŠ¤è¿›ç¨‹çš„ï¼Œæ‰€è°“çš„daemonlessã€‚ç›®å‰Minikubeæ”¯æŒPodmanè¿˜å¤„äºè¯•éªŒé˜¶æ®µã€‚</p><h3 id="Macä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨"><a href="#Macä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨" class="headerlink" title="Macä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨"></a>Macä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨</h3><ul><li>Docker - VM + Container (preferred)</li></ul><p>Dockerå¹¶æ²¡æœ‰åŸç”Ÿæ”¯æŒMacï¼Œæ‰€ä»¥Dockerä¼šåœ¨Macä¸»æœºä¸Šå¯åŠ¨ä¸€ä¸ªHyperkitçš„è™šæ‹Ÿæœºï¼Œå¹¶å°†å®ƒé…ç½®ä¸ºDockerçš„æœåŠ¡ç«¯ï¼Œè€Œåœ¨Macä¸»æœºä¸Šçš„å®¢æˆ·ç«¯åˆ™é€šè¿‡Unix Socketä¸DockeræœåŠ¡é€šä¿¡ã€‚</p><h3 id="Windowsä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨"><a href="#Windowsä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨" class="headerlink" title="Windowsä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨"></a>Windowsä¸»æœºæ”¯æŒçš„Dockeré©±åŠ¨</h3><ul><li>Docker - VM + Container (preferred)</li></ul><p>é€šMacä¸€æ ·ï¼ŒDockerä¹Ÿæ²¡æœ‰åŸç”Ÿæ”¯æŒWIndowsï¼Œæ‰€ä»¥éœ€è¦åœ¨Windowsä¸»æœºä¸Šå¯åŠ¨ä¸€Hyper-Vè™šæ‹Ÿæœºã€‚</p><h2 id="SSHé©±åŠ¨"><a href="#SSHé©±åŠ¨" class="headerlink" title="SSHé©±åŠ¨"></a>SSHé©±åŠ¨</h2><p>å½“ä½¿ç”¨SSHé©±åŠ¨æ—¶ï¼ŒMinikubeå®é™…ä¸Šæ˜¯é€šè¿‡SSHåœ¨å·²ç»å­˜åœ¨å¹¶é…ç½®å¥½çš„ä¸€å°è¿œç¨‹ä¸»æœºä¸Šåˆ›å»ºKuberenetesé›†ç¾¤ã€‚</p><h2 id="Noneé©±åŠ¨"><a href="#Noneé©±åŠ¨" class="headerlink" title="Noneé©±åŠ¨"></a>Noneé©±åŠ¨</h2><p>ç›®å‰åªæ”¯æŒLinuxä¸»æœºï¼Œä¹Ÿå°±æ˜¯Minikubeç›´æ¥åœ¨å½“å‰çš„Linuxä¸»æœºä¸Šåˆ›å»ºKuberentesé›†ç¾¤ã€‚</p><h1 id="åˆ›å»ºKubernetesé›†ç¾¤"><a href="#åˆ›å»ºKubernetesé›†ç¾¤" class="headerlink" title="åˆ›å»ºKubernetesé›†ç¾¤"></a>åˆ›å»ºKubernetesé›†ç¾¤</h1><h2 id="ç”¨Dockeré©±åŠ¨å¿«é€Ÿåˆ›å»ºä¸€ä¸ªé›†ç¾¤"><a href="#ç”¨Dockeré©±åŠ¨å¿«é€Ÿåˆ›å»ºä¸€ä¸ªé›†ç¾¤" class="headerlink" title="ç”¨Dockeré©±åŠ¨å¿«é€Ÿåˆ›å»ºä¸€ä¸ªé›†ç¾¤"></a>ç”¨Dockeré©±åŠ¨å¿«é€Ÿåˆ›å»ºä¸€ä¸ªé›†ç¾¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube start -p mkdockerk8s --driver=docker<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤åŸºäºDockeré©±åŠ¨åˆ›å»ºäº†ä¸€ä¸ªå•èŠ‚ç‚¹çš„Kubernetesé›†ç¾¤ã€‚å‚æ•°-pç”¨æ¥æŒ‡å®šé›†ç¾¤çš„åå­—ã€‚</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ›å»ºçš„é›†ç¾¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube profile list<br></code></pre></td></tr></table></figure><p><img src="/2021/10/06/create-kubernetes-minikube/3.jpg" srcset="/img/loading.gif" lazyload></p><p>æ‰§è¡Œkubectlå‘½ä»¤å¯ä»¥çœ‹åˆ°é›†ç¾¤å·²ç»è¢«åŠ åˆ°kubeconfigä¸­äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl config get-contexts<br></code></pre></td></tr></table></figure><p><img src="/2021/10/06/create-kubernetes-minikube/4.jpg" srcset="/img/loading.gif" lazyload></p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…dashboard:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube addons <span class="hljs-built_in">enable</span> metrics-server<br>minikube addons <span class="hljs-built_in">enable</span> dashboard<br></code></pre></td></tr></table></figure><blockquote><p>Dashboardçš„ä¸€äº›ç‰¹æ€§ä¾èµ–äºmetrics-serverï¼Œæ‰€ä»¥å…ˆå®‰è£…metrics-serverã€‚</p></blockquote><p><strong>ä½†æ˜¯ç”¨docker driveråˆ›å»ºçš„Kubernetesé›†ç¾¤æœ‰å¾ˆå¤§çš„ä¸è¶³ï¼ŒåŸºæœ¬ä¸Šæ— æ³•æ»¡è¶³å¼€å‘å·¥ä½œï¼š</strong></p><ul><li><p>ä¸æ”¯æŒingressï¼Œå½“æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å»å®‰è£…ingress controlleræ—¶ï¼Œä¼šå‡ºé”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube addons <span class="hljs-built_in">enable</span> ingress<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">âŒ  Exiting due to MK_USAGE: Due to networking limitations of driver docker on darwin, ingress addon is not supported.<br>Alternatively to use this addon you can use a vm-based driver:<br><br>	<span class="hljs-string">&#x27;minikube start --vm=true&#x27;</span><br><br>To track the update on this work <span class="hljs-keyword">in</span> progress feature please check:<br>https://github.com/kubernetes/minikube/issues/7332<br><br></code></pre></td></tr></table></figure></li><li><p>ä¸æ”¯æŒLoadBalanceç±»å‹çš„æœåŠ¡ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ—¶ï¼Œä¹Ÿä¼šå‡ºé”™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube tunnel<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ğŸ¤·  The control plane node must be running <span class="hljs-keyword">for</span> this <span class="hljs-built_in">command</span><br>ğŸ‘‰  To start a cluster, run: <span class="hljs-string">&quot;minikube start&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>åŒæ ·æ— æ³•æ‰“å¼€å‰é¢å®‰è£…å¥½çš„dashboard</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube dashboard<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ğŸ¤·  The control plane node must be running <span class="hljs-keyword">for</span> this <span class="hljs-built_in">command</span><br>ğŸ‘‰  To start a cluster, run: <span class="hljs-string">&quot;minikube start&quot;</span><br></code></pre></td></tr></table></figure></li></ul><p>æ‰€ä»¥ï¼Œéœ€è¦é€šè¿‡æŸä¸ªHypervisoré©±åŠ¨åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºä½œä¸ºKubernetesé›†ç¾¤çš„å·¥ä½œèŠ‚ç‚¹ï¼Œè¿™æ ·æ—¢èƒ½æ”¯æŒingressï¼Œåˆèƒ½æ”¯æŒLoadbalanceç±»å‹çš„æœåŠ¡ï¼ŒåŒæ—¶è¿˜èƒ½æ‰“å¼€dashboardã€‚ä¸‹é¢å°†é€šè¿‡VirtualBoxé©±åŠ¨åˆ›å»ºé›†ç¾¤ã€‚</p><h2 id="ç”¨VirtualBoxé©±åŠ¨åˆ›å»ºé›†ç¾¤"><a href="#ç”¨VirtualBoxé©±åŠ¨åˆ›å»ºé›†ç¾¤" class="headerlink" title="ç”¨VirtualBoxé©±åŠ¨åˆ›å»ºé›†ç¾¤"></a>ç”¨VirtualBoxé©±åŠ¨åˆ›å»ºé›†ç¾¤</h2><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªåŸºäºVirtualBoxé©±åŠ¨çš„å•èŠ‚ç‚¹é›†ç¾¤ã€‚ä½¿ç”¨â€â€“extra-configâ€å¯ä»¥é…ç½®Kubernetesç³»ç»Ÿç»„ä»¶ï¼Œæ¯”å¦‚é…ç½®apiserveræ”¯æŒoidcè®¤è¯ç­‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube start --driver=<span class="hljs-string">&#x27;virtualbox&#x27;</span> --kubernetes-version=<span class="hljs-string">&#x27;v1.28.0-rc.1&#x27;</span> \<br>        --cpus=4 --memory=<span class="hljs-string">&#x27;6g&#x27;</span> --disk-size=<span class="hljs-string">&#x27;60g&#x27;</span> --cni=<span class="hljs-string">&#x27;flannel&#x27;</span> \<br>        --extra-config=apiserver.bind-address=0.0.0.0 \<br>        --extra-config=apiserver.service-node-port-range=1-65535 \<br>        --extra-config=apiserver.oidc-issuer-url=https://control-plane.minikube.internal:1443/auth/realms/minikube  \<br>        --extra-config=apiserver.oidc-client-id=minikube \<br>        --extra-config=apiserver.oidc-username-claim=name \<br>        --extra-config=apiserver.oidc-username-prefix=- \<br>        --extra-config=apiserver.oidc-ca-file=/var/lib/minikube/certs/ca.crt \<br>        --extra-config=controller-manager.bind-address=0.0.0.0 \<br>        --extra-config=scheduler.bind-address=0.0.0.0 \<br>        --extra-config=kubelet.cgroup-driver=systemd<br></code></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡å‘½ä»¤<code>minikube config defaults kubernetes-version</code>åˆ—å‡ºminikubeæ”¯æŒçš„æ‰€æœ‰Kubernetesç‰ˆæœ¬ã€‚</p><blockquote><p>ç³»ç»Ÿç»„ä»¶çš„è¯¦ç»†é…ç½®æ–‡æ¡£ï¼š<br>apiserver: <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/">https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/</a><br>controller-manager: <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/">https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/</a><br>scheduler: <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/">https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/</a></p></blockquote><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ—å‡ºminikubeåˆ›å»ºçš„æ‰€æœ‰é›†ç¾¤é›†ç¾¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube profile list<br></code></pre></td></tr></table></figure><p><img src="/2021/10/06/create-kubernetes-minikube/5.jpg" srcset="/img/loading.gif" lazyload></p><h3 id="å®‰è£…MetalLBæ”¯æŒLoadBalancerç±»å‹çš„æœåŠ¡"><a href="#å®‰è£…MetalLBæ”¯æŒLoadBalancerç±»å‹çš„æœåŠ¡" class="headerlink" title="å®‰è£…MetalLBæ”¯æŒLoadBalancerç±»å‹çš„æœåŠ¡"></a>å®‰è£…MetalLBæ”¯æŒLoadBalancerç±»å‹çš„æœåŠ¡</h3><blockquote><p>å‚è€ƒ<a target="_blank" rel="noopener" href="https://metallb.universe.tf/installation/">MetalLBå®˜æ–¹å®‰è£…å’Œé…ç½®æ–‡æ¡£</a></p></blockquote><ul><li><p>è®¾ç½®ipvsæ¨¡å¼çš„strictARPä¸ºtrue</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">kubectl</span> <span class="hljs-string">edit</span> <span class="hljs-string">configmap</span> <span class="hljs-string">-n</span> <span class="hljs-string">kube-system</span> <span class="hljs-string">kube-proxy</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">kubeproxy.config.k8s.io/v1alpha1</span><br><span class="hljs-attr">kind:</span> <span class="hljs-string">KubeProxyConfiguration</span><br><span class="hljs-attr">mode:</span> <span class="hljs-string">&quot;ipvs&quot;</span><br><span class="hljs-attr">ipvs:</span><br>  <span class="hljs-attr">strictARP:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure></li><li><p>é€šè¿‡minikubeçš„metallbæ’ä»¶å®‰è£…metallb</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube addons <span class="hljs-built_in">enable</span> metallb<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹MetalLBçš„é…ç½®æ·»åŠ IPåœ°å€æ± <br>å‚è€ƒ<a target="_blank" rel="noopener" href="https://minikube.sigs.k8s.io/docs/handbook/vpn_and_proxy/">Proxies and VPNs</a>ï¼Œä½¿ç”¨VirtualBoxé©±åŠ¨åˆ›å»ºçš„åŸºäºVMçš„é›†ç¾¤èŠ‚ç‚¹IPåœ°å€æ± ä¸º192.168.59.0&#x2F;24ã€‚å¯ä»¥ä»ä¸­é€‰å–ä¸€æ®µç”¨ä½œç»™Loadbalancerç±»å‹çš„æœåŠ¡åˆ†é…IPåœ°å€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kubectl edit cm config  -n metallb-system<br></code></pre></td></tr></table></figure><p>è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">apiVersion: v1<br>data:<br>  config: |<br>    address-pools:<br>    - name: default<br>      protocol: layer2<br>      addresses:<br>      - 192.168.59.200 - 192.168.59.250<br></code></pre></td></tr></table></figure><p>é‡å¯metallb controller Podã€‚</p></li></ul><h3 id="å®‰è£…Nginx-Ingress-Controllerï¼š"><a href="#å®‰è£…Nginx-Ingress-Controllerï¼š" class="headerlink" title="å®‰è£…Nginx Ingress Controllerï¼š"></a>å®‰è£…Nginx Ingress Controllerï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube addons <span class="hljs-built_in">enable</span> ingress<br></code></pre></td></tr></table></figure><blockquote><p>minikubeè‡ªå¸¦çš„Nginx Ingress Controlleræ’ä»¶çš„æœåŠ¡ç±»å‹æ˜¯NodePortï¼Œæ‰€ä»¥é€šè¿‡ä»»ä½•ä¸€ä¸ªå·¥ä½œèŠ‚ç‚¹çš„IPå°±å¯ä»¥è®¿é—®ã€‚</p></blockquote><h3 id="å®‰è£…Kong-Ingress-Controller"><a href="#å®‰è£…Kong-Ingress-Controller" class="headerlink" title="å®‰è£…Kong Ingress Controller"></a>å®‰è£…Kong Ingress Controller</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube addons <span class="hljs-built_in">enable</span> kong<br></code></pre></td></tr></table></figure><blockquote><p>minikubeè‡ªå¸¦çš„Kong Ingress Controllerçš„æœåŠ¡ç±»å‹æ˜¯LoadBalancerç±»å‹ï¼ŒMetalLBä¼šåˆ†é…å¯¹åº”çš„IPåœ°å€ã€‚</p></blockquote><h3 id="å®‰è£…dashboard"><a href="#å®‰è£…dashboard" class="headerlink" title="å®‰è£…dashboard"></a>å®‰è£…dashboard</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube addons <span class="hljs-built_in">enable</span> metrics-server<br>minikube addons <span class="hljs-built_in">enable</span> dashboard<br></code></pre></td></tr></table></figure><blockquote><p>Dashboardä¸­æœ‰å…³ç³»ç»Ÿèµ„æº(CPU, Memory)çš„ä½¿ç”¨çŠ¶æ€ä¾èµ–äºmetrics-serverç»„ä»¶ï¼Œæ‰€ä»¥å…ˆå®‰è£…metrics-serverç»„ä»¶ã€‚</p></blockquote><p>å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤ä¸´æ—¶æ‰“å¼€Dashboardï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube dashboard<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¸ºdashboardæ·»åŠ ä¸‹é¢çš„Ingressèµ„æºå°†å…¶é€šè¿‡æµ‹è¯•åŸŸå(minikube.test)æš´éœ²å‡ºæ¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sh">kubectl apply -f - &lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">apiVersion: networking.k8s.io/v1</span><br><span class="hljs-string">kind: Ingress</span><br><span class="hljs-string">metadata:</span><br><span class="hljs-string">  name: minikube-dashboard-ingress</span><br><span class="hljs-string">  namespace: kubernetes-dashboard</span><br><span class="hljs-string">spec:</span><br><span class="hljs-string">  ingressClassName: nginx</span><br><span class="hljs-string">  rules:</span><br><span class="hljs-string">    - host: minikube.test</span><br><span class="hljs-string">      http:</span><br><span class="hljs-string">        paths:</span><br><span class="hljs-string">          - path: /</span><br><span class="hljs-string">            pathType: Prefix</span><br><span class="hljs-string">            backend:</span><br><span class="hljs-string">              service:</span><br><span class="hljs-string">                name: kubernetes-dashboard</span><br><span class="hljs-string">                port:</span><br><span class="hljs-string">                  number: 80</span><br><span class="hljs-string">EOF</span><br></code></pre></td></tr></table></figure><h3 id="ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤"><a href="#ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤" class="headerlink" title="ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤"></a>ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤</h3><ul><li><p>ç™»å½•è¿›å·¥ä½œèŠ‚ç‚¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube ssh<br></code></pre></td></tr></table></figure></li><li><p>æŸ¥è¯¢å·¥ä½œèŠ‚ç‚¹çš„IPåœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">minikube ip<br></code></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹é›†ç¾¤çŠ¶æ€</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">minikube status</span><br></code></pre></td></tr></table></figure></li></ul><h1 id="Minikbueåœ¨HTTP-x2F-HTTPSä»£ç†ä¸‹çš„ä½¿ç”¨"><a href="#Minikbueåœ¨HTTP-x2F-HTTPSä»£ç†ä¸‹çš„ä½¿ç”¨" class="headerlink" title="Minikbueåœ¨HTTP&#x2F;HTTPSä»£ç†ä¸‹çš„ä½¿ç”¨"></a>Minikbueåœ¨HTTP&#x2F;HTTPSä»£ç†ä¸‹çš„ä½¿ç”¨</h1><p>å½“è¦è®¾ç½®HTTP&#x2F;HTTPSä»£ç†æ‰èƒ½ä¸Šç½‘æ—¶ï¼Œéœ€è¦å°†å·¥ä½œèŠ‚ç‚¹çš„ä¸»æœºç½‘ç»œåœ°å€æ®µè®¾ç½®åˆ°NO_PROXYä¸­ï¼Œå¦åˆ™Minikubeä¼šæ— æ³•è®¿é—®ä¸»æœºé‡Œçš„èµ„æºã€‚</p><blockquote><p>è¯¦ç»†å‚è€ƒ<a target="_blank" rel="noopener" href="https://minikube.sigs.k8s.io/docs/handbook/vpn_and_proxy/">Proxieså’ŒVPN</a>ä¸­Proxyä¸€èŠ‚ã€‚</p></blockquote><h1 id="Minikbueåœ¨VPNä¸‹çš„ä½¿ç”¨"><a href="#Minikbueåœ¨VPNä¸‹çš„ä½¿ç”¨" class="headerlink" title="Minikbueåœ¨VPNä¸‹çš„ä½¿ç”¨"></a>Minikbueåœ¨VPNä¸‹çš„ä½¿ç”¨</h1><p>ä½¿ç”¨VPNæ¥å…¥å…¬å¸ç½‘ç»œæˆ–è€…è‡ªå·±çš„ç§æœ‰ç½‘ç»œæ—¶ï¼ŒVPNä¼šæˆªè·Minikubeè®¿é—®ä¸»æœºçš„æµé‡ä»è€Œå¯¼è‡´æ— æ³•æ­£å¸¸è®¿é—®ï¼Œå› ä¸ºVPNä¼šå¼ºåˆ¶ä¿®æ”¹æœ¬åœ°è·¯ç”±ï¼Œé™¤éå…¬å¸ITåŒæ„å°†ä½ çš„Minikubeç”¨åˆ°çš„ç½‘æ®µåŠ å…¥VPNçš„ç™½åå•ï¼ˆè¿™å¾€å¾€ä¸ç°å®ï¼‰ã€‚è§£å†³åŠæ³•æ˜¯é€šè¿‡ç«¯å£è½¬å‘çš„æ–¹æ³•å°†å¯¹ä¸»æœºlocalhostæˆ–127.0.0.1çš„ç«¯å£è®¿é—®è½¬å‘åˆ°é›†ç¾¤å·¥ä½œèŠ‚ç‚¹çš„å¯¹åº”çš„ç«¯å£ä¸Šï¼ˆå‰ææ˜¯ä½¿ç”¨VMçš„é©±åŠ¨åˆ›å»ºçš„é›†ç¾¤ï¼‰ã€‚ä»¥ä¸‹æ˜¯é’ˆå¯¹äºVirtualBoxé©±åŠ¨åˆ›å»ºçš„é›†ç¾¤æ·»åŠ çš„ç«¯å£è½¬å‘è§„åˆ™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">VBoxManage controlvm minikube natpf1 k8s-apiserver,tcp,127.0.0.1,8443,,8443<br>VBoxManage controlvm minikube natpf1 k8s-ingress,tcp,127.0.0.1,9080,,80<br>VBoxManage controlvm minikube natpf1 k8s-ingress-secure,tcp,127.0.0.1,9443,,443<br>VBoxManage controlvm minikube natpf1 docker,tcp,127.0.0.1,2376,,2376<br></code></pre></td></tr></table></figure><p>æ¯”å¦‚é’ˆå¯¹é›†ç¾¤API Serverï¼Œå°†VirtualBoxåœ¨æœ¬æœºæ‰“å¼€çš„8443ç«¯å£è½¬å‘åˆ°é›†ç¾¤èŠ‚ç‚¹(VM)çš„8443ç«¯å£(é›†ç¾¤API Serverå¯¹åº”çš„ç«¯å£)ã€‚è¿™æ ·åœ¨kubeconfigçš„é…ç½®æ–‡ä»¶ä¸­å°±å¯ä»¥é€šè¿‡<code>https://127.0.0.1:8443</code>æ¥è®¿é—®é›†ç¾¤API Serverï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span><br><span class="hljs-attr">clusters:</span><br><span class="hljs-bullet">-</span> <span class="hljs-attr">cluster:</span><br>    <span class="hljs-attr">certificate-authority:</span> <span class="hljs-string">/Users/mike/.minikube/ca.crt</span><br>    <span class="hljs-attr">extensions:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">extension:</span><br>        <span class="hljs-attr">last-update:</span> <span class="hljs-string">Sat,</span> <span class="hljs-number">09</span> <span class="hljs-string">Apr</span> <span class="hljs-number">2022 18:42:47 </span><span class="hljs-string">CST</span><br>        <span class="hljs-attr">provider:</span> <span class="hljs-string">minikube.sigs.k8s.io</span><br>        <span class="hljs-attr">version:</span> <span class="hljs-string">v1.25.2</span><br>      <span class="hljs-attr">name:</span> <span class="hljs-string">cluster_info</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-string">https://127.0.0.1:8443</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">minikube</span><br><span class="hljs-attr">contexts:</span><br><span class="hljs-bullet">-</span> <span class="hljs-attr">context:</span><br>    <span class="hljs-attr">cluster:</span> <span class="hljs-string">minikube</span><br></code></pre></td></tr></table></figure><p>ç”±äºVirtualBoxåœ¨Macä¸Šæ˜¯ä»¥érootè´¦å·è¿è¡Œçš„ï¼Œæ‰€ä»¥åªèƒ½æ‰“å¼€æœ¬æœº1024ä»¥ä¸Šçš„ç«¯å£ï¼Œä½†è®¿é—®ingressæš´éœ²çš„HTTP&#x2F;HTTPSæœåŠ¡æ—¶å°±éœ€è¦åŠ ä¸Šç«¯å£å·ï¼Œä½¿ç”¨èµ·æ¥å¹¶ä¸å‹å¥½ã€‚å¯ä»¥é€šè¿‡åŒ…è¿‡æ»¤é˜²ç«å¢™å»ºç«‹æœ¬æœº80ï¼Œ443ç«¯å£åˆ°ä¸Šé¢ingressçš„9080å’Œ9443ç«¯å£çš„è½¬å‘ã€‚Macçš„é…ç½®å‚è€ƒå¦‚ä¸‹ï¼š</p><h2 id="macOS-YosemiteåŠä»¥ä¸Šç‰ˆæœ¬"><a href="#macOS-YosemiteåŠä»¥ä¸Šç‰ˆæœ¬" class="headerlink" title="macOS YosemiteåŠä»¥ä¸Šç‰ˆæœ¬"></a>macOS YosemiteåŠä»¥ä¸Šç‰ˆæœ¬</h2><p>ç”±äºMacOSä¸Šçš„åŒ…è¿‡æ»¤é˜²ç«å¢™å·¥å…·ipfwå·²ç»ä»macOS Yosemiteå’Œä»¥ä¸Šç‰ˆæœ¬è¢«ç§»é™¤äº†ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹æ³•ä½¿ç”¨pfã€‚</p><ul><li><p>åˆ›å»ºä¸€ä¸ªé”šæ–‡ä»¶<br>ä¾‹å¦‚ï¼Œ&#x2F;etc&#x2F;pf.anchors&#x2F;kubernetes.ingress-controller.forwarding</p></li><li><p>åœ¨&#x2F;etc&#x2F;pf.anchors&#x2F;kubernetes.ingress-controller.forwardingé”šæ–‡ä»¶ä¸­, è¾“å…¥:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">rdr pass on lo0 inet proto tcp from any to 127.0.0.1 port 80 -&gt; 127.0.0.1 port 9080<br>rdr pass on lo0 inet proto tcp from any to 127.0.0.1 port 443 -&gt; 127.0.0.1 port 9443<br><br></code></pre></td></tr></table></figure><p>ç¡®ä¿åœ¨æœ«å°¾åŠ ä¸€è¡Œç©ºç™½è¡Œï¼Œå¦åˆ™ä¼šæŠ¥æ ¼å¼é”™è¯¯ã€‚</p></li><li><p>æµ‹è¯•è¿™ä¸ªé”šæ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo pfctl -vnf /etc/pf.anchors/kubernetes.ingress-controller.forwarding<br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»º&#x2F;etc&#x2F;pf-kubernetes-ingress-controller.confæ–‡ä»¶<br>æ·»åŠ ä¸‹é¢çš„é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">rdr-anchor <span class="hljs-string">&quot;forwarding&quot;</span> <br>load anchor <span class="hljs-string">&quot;forwarding&quot;</span> from <span class="hljs-string">&quot;/etc/pf.anchors/kubernetes.ingress-controller.forwarding&quot;</span><br></code></pre></td></tr></table></figure></li><li><p>åˆ›å»ºä¸€ä¸ªshellè„šæœ¬ï¼Œæ¯”å¦‚â€.&#x2F;minikube-start&#x2F;pf.shâ€ï¼Œé…ç½®åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>sudo pfctl -ef /etc/pf-kubernetes-ingress-controller.conf<br></code></pre></td></tr></table></figure></li></ul><h2 id="macOS-10-9å’Œæ›´æ—©ç‰ˆæœ¬"><a href="#macOS-10-9å’Œæ›´æ—©ç‰ˆæœ¬" class="headerlink" title="macOS 10.9å’Œæ›´æ—©ç‰ˆæœ¬"></a>macOS 10.9å’Œæ›´æ—©ç‰ˆæœ¬</h2><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é…ç½®ç«¯å£è½¬å‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo /sbin/ipfw add 102 fwd 127.0.0.1,9080 tcp from any to any 80 <span class="hljs-keyword">in</span><br>sudo /sbin/ipfw add 102 fwd 127.0.0.1,9443 tcp from any to any 443 <span class="hljs-keyword">in</span><br></code></pre></td></tr></table></figure><h1 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h1><p>æœ¬æ–‡æ—¨åœ¨ç®€å•ä»‹ç»Minikubeï¼Œå®ƒçš„æ¶æ„ä»¥åŠä½¿ç”¨ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©è¯»è€…å¯¹Minikubeæœ‰ä¸ªæ¡†æ¶æ€§çš„äº†è§£ï¼Œä»è€Œå†³å®šæ˜¯å¦éœ€è¦æ·±å…¥ä½¿ç”¨ã€‚å¯¹äºMinikubeæ›´è¯¦ç»†çš„ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://minikube.sigs.k8s.io/docs/">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Kubernetes/" class="category-chain-item">Kubernetes</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Kubernetes/">#Kubernetes</a> <a href="/tags/K8s/">#K8s</a> <a href="/tags/Minikube/">#Minikube</a></div></div><div class="license-box my-3"><div class="license-title"><div>Minikubeåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤</div><div>https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>Mike</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2021å¹´10æœˆ6æ—¥</div></div><div class="license-meta-item license-meta-date"><div>æ›´æ–°äº</div><div>2024å¹´5æœˆ24æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-by"></i> </span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - éå•†ä¸šæ€§ä½¿ç”¨"><i class="iconfont icon-nc"></i> </span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - ç›¸åŒæ–¹å¼å…±äº«"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2021/10/10/create-kubernetes-kind/" title="Kindåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Kindåˆ›å»ºæœ¬åœ°Kubernetesé›†ç¾¤</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/2021/09/06/aliyun-coredns-issue-tracking/" title="è®°ä¸€æ¬¡é˜¿é‡Œäº‘Kubernetesé›†ç¾¤å†…éƒ¨æœåŠ¡åŸŸåè§£æä¸ç¨³å®šçš„æ’æŸ¥"><span class="hidden-mobile">è®°ä¸€æ¬¡é˜¿é‡Œäº‘Kubernetesé›†ç¾¤å†…éƒ¨æœåŠ¡åŸŸåè§£æä¸ç¨³å®šçš„æ’æŸ¥</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="SOHUCS" sid="https://www.mikesay.com/2021/10/06/create-kubernetes-minikube/"></div><script type="text/javascript">Fluid.utils.loadComments("#SOHUCS",(function(){Fluid.utils.createScript("https://changyan.sohu.com/upload/changyan.js",(function(){window.changyan.api.config({appid:"cyvdGhYsy",appkey:""})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article><div class="post-donate"><div id="donate_board" class="donate_bar center"><span class="donate_txt">åŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ! </span><a id="btn_donate" class="btn_donate" href="javascript:;" title="æ‰“èµ"></a><br></div><div id="donate_guide" class="donate_bar center hidden"><div id="alipay" style="display:inline-block"><img src="/img/alipay1.jpeg" srcset="/img/loading.gif" lazyload alt="æ”¯ä»˜å®æ‰“èµ"><p>æ”¯ä»˜å®æ‰“èµ</p></div><div id="wechatpay" style="display:inline-block"><img src="/img/wechatpay1.jpeg" srcset="/img/loading.gif" lazyload alt="å¾®ä¿¡æ‰“èµ"><p>å¾®ä¿¡æ‰“èµ</p></div></div><script type="text/javascript">document.getElementById("btn_donate").onclick=function(){$("#donate_guide").hasClass("hidden")?$("#donate_guide").removeClass("hidden"):$("#donate_guide").addClass("hidden")}</script></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡ </span><span id="busuanzi_container_site_uv" style="display:none">æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:200}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript></body></html>